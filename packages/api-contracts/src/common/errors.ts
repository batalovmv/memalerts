import { z } from 'zod';

export const ErrorCodeSchema = z.enum([
  'BAD_REQUEST',
  'INVALID_LIMIT',
  'VALIDATION_ERROR',
  'UNAUTHORIZED',
  'SESSION_EXPIRED',
  'FORBIDDEN',
  'ROLE_REQUIRED',
  'BETA_ACCESS_REQUIRED',
  'CSRF_INVALID',
  'NOT_FOUND',
  'CHANNEL_NOT_FOUND',
  'CHANNEL_REQUIRED',
  'CONFLICT',
  'TOO_MANY_REQUESTS',
  'ALREADY_IN_CHANNEL',
  'MISSING_CHANNEL_ID',
  'BOT_NOT_LINKED',
  'BOT_ALREADY_LINKED',
  'BOT_ENTITLEMENT_REQUIRED',
  'TWITCH_BOT_NOT_CONFIGURED',
  'YOUTUBE_RELINK_REQUIRED',
  'YOUTUBE_CHANNEL_REQUIRED',
  'YOUTUBE_API_NOT_CONFIGURED',
  'YOUTUBE_API_QUOTA',
  'YOUTUBE_BOT_NOT_CONFIGURED',
  'YOUTUBE_ENABLE_FAILED',
  'VKVIDEO_BOT_NOT_CONFIGURED',
  'TROVO_BOT_NOT_CONFIGURED',
  'KICK_BOT_NOT_CONFIGURED',
  'KICK_NOT_LINKED',
  'KICK_SCOPE_MISSING_EVENTS_SUBSCRIBE',
  'KICK_ACCESS_TOKEN_MISSING',
  'STREAMER_SUBMISSIONS_DISABLED',
  'ONLY_WHEN_LIVE',
  'SUBMISSIONS_DISABLED',
  'SUBMISSIONS_OFFLINE',
  'USER_SPAM_BANNED',
  'SUBMISSION_NOT_FOUND',
  'SUBMISSION_NOT_PENDING',
  'SUBMISSION_ALREADY_PROCESSED',
  'SUBMISSION_REVISION_LIMIT',
  'SUBMISSION_FILE_TOO_LARGE',
  'SUBMISSION_INVALID_FORMAT',
  'MEME_NOT_FOUND',
  'CHANNEL_MEME_NOT_FOUND',
  'MEME_ASSET_NOT_FOUND',
  'MEME_INSUFFICIENT_COINS',
  'MEME_ACTIVATION_RATE_LIMITED',
  'MEME_COOLDOWN_ACTIVE',
  'AI_REGENERATE_TOO_SOON',
  'AI_REGENERATE_COOLDOWN',
  'INVALID_TITLE',
  'INVALID_MEDIA_URL',
  'INVALID_MEDIA_TYPE',
  'UPLOAD_TIMEOUT',
  'FILE_TOO_LARGE',
  'VIDEO_TOO_LONG',
  'UPLOAD_FAILED',
  'MEDIA_NOT_AVAILABLE',
  'ASSET_PURGED_OR_QUARANTINED',
  'INVALID_FILE_TYPE',
  'INVALID_FILE_CONTENT',
  'TRANSCODE_FAILED',
  'RATE_LIMITED',
  'TIMEOUT',
  'TWITCH_CHANNEL_NOT_LINKED',
  'TWITCH_ACCOUNT_MISMATCH',
  'TWITCH_ELIGIBILITY_UNKNOWN',
  'TWITCH_REWARD_NOT_AVAILABLE',
  'TWITCH_ELIGIBILITY_CHECK_FAILED',
  'REWARD_COST_COINS_REQUIRED',
  'REWARD_DISABLED_OFFLINE',
  'OAUTH_FAILED',
  'OAUTH_STATE_MISMATCH',
  'TWITCH_NOT_LINKED',
  'TWITCH_ALREADY_LINKED',
  'ACCOUNT_ALREADY_LINKED',
  'BOOSTY_INVALID_TOKEN',
  'BOOSTY_RATE_LIMITED',
  'BOOSTY_UNAVAILABLE',
  'BOOSTY_ACCOUNT_ALREADY_LINKED',
  'BOT_NOT_CONFIGURED',
  'BOT_DISABLED',
  'AI_PROCESSING',
  'AI_UNAVAILABLE',
  'AI_RATE_LIMITED',
  'RELAY_UNAVAILABLE',
  'INSUFFICIENT_BALANCE',
  'MEME_ON_COOLDOWN',
  'CHANNEL_NOT_ACTIVE',
  'INTERNAL_ERROR',
  'SERVICE_UNAVAILABLE',
  'FEATURE_NOT_AVAILABLE',
]);

export const ApiErrorSchema = z.object({
  code: ErrorCodeSchema,
  message: z.string(),
  details: z.unknown().optional(),
  field: z.string().optional(),
  statusCode: z.number().int().optional(),
  requestId: z.string().optional(),
  traceId: z.string().nullable().optional(),
  hint: z.string().optional(),
});

export type ErrorCode = z.infer<typeof ErrorCodeSchema>;
export type ApiError = z.infer<typeof ApiErrorSchema>;
