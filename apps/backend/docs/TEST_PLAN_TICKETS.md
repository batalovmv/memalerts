# üß™ MemAlerts Backend ‚Äî –ü–ª–∞–Ω —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

> **–¶–µ–ª—å**: –¥–æ–≤–µ—Å—Ç–∏ –ø–æ–∫—Ä—ã—Ç–∏–µ –∫–æ–¥–∞ —Ç–µ—Å—Ç–∞–º–∏ —Å 13% –¥–æ 80%+
>
> **–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ**: 6,665 / 50,427 –ª–∏–Ω–∏–π –ø–æ–∫—Ä—ã—Ç–æ (13.21%)
>
> **–û—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–æ—á–Ω–æ**: ~100-120 –Ω–æ–≤—ã—Ö —Ç–µ—Å—Ç–æ–≤

---

## üìã –ö–∞–∫ —Ä–∞–±–æ—Ç–∞—Ç—å —Å —ç—Ç–∏–º –¥–æ–∫—É–º–µ–Ω—Ç–æ–º

1. –ö–∞–∂–¥—ã–π —Ç–∏–∫–µ—Ç ‚Äî –æ—Ç–¥–µ–ª—å–Ω–∞—è –∑–∞–¥–∞—á–∞, –∫–æ—Ç–æ—Ä—É—é –º–æ–∂–Ω–æ –≤–∑—è—Ç—å –≤ —Ä–∞–±–æ—Ç—É
2. –¢–∏–∫–µ—Ç—ã —Å–≥—Ä—É–ø–ø–∏—Ä–æ–≤–∞–Ω—ã –ø–æ —Ñ–∞–∑–∞–º (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç —É–±—ã–≤–∞–µ—Ç)
3. –ü–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º —Ä–∞–±–æ—Ç—ã –ø—Ä–æ—á–∏—Ç–∞—Ç—å `docs/TESTING.md`
4. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ñ–∞–±—Ä–∏–∫–∏ –∏–∑ `tests/factories/` ‚Äî –Ω–µ –¥–µ–ª–∞—Ç—å –ø—Ä—è–º—ã–µ `prisma.*.create`
5. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –º–æ–∫–∏ –∏–∑ `tests/mocks/`
6. –ü–æ—Å–ª–µ –Ω–∞–ø–∏—Å–∞–Ω–∏—è —Ç–µ—Å—Ç–æ–≤ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–∫–∞–ª—å–Ω–æ: `pnpm test`

---

## üîë –û–±—â–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫–æ –≤—Å–µ–º —Ç–µ—Å—Ç–∞–º

- [ ] –¢–µ—Å—Ç –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω (–Ω–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –ø–æ—Ä—è–¥–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è)
- [ ] –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ñ–∞–±—Ä–∏–∫–∏ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- [ ] –ú–æ–∫–∏—Ä—É—é—Ç—Å—è –≤–Ω–µ—à–Ω–∏–µ —Å–µ—Ä–≤–∏—Å—ã (Twitch, YouTube –∏ —Ç.–¥.)
- [ ] –ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –∫–∞–∫ happy path, —Ç–∞–∫ –∏ error cases
- [ ] –ü—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è security invariants (—Å–º. `docs/TESTING.md`)
- [ ] –¢–µ—Å—Ç –ø—Ä–æ—Ö–æ–¥–∏—Ç –ª–æ–∫–∞–ª—å–Ω–æ –ø–µ—Ä–µ–¥ –∫–æ–º–º–∏—Ç–æ–º

---

# –§–ê–ó–ê 1: –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –±–∏–∑–Ω–µ—Å-–ø–æ—Ç–æ–∫–∏

> **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üî¥ –í–´–°–û–ö–ò–ô
>
> **–¶–µ–ª—å —Ñ–∞–∑—ã**: –ø–æ–∫—Ä—ã—Ç–∏–µ 40%

---

## TICKET-001: Viewer Activation Flow

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç**: `src/controllers/viewer/activation.ts`, `src/services/meme/activateMeme.ts`

**–û–ø–∏—Å–∞–Ω–∏–µ**:
–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ª–Ω—ã–π flow –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –º–µ–º–∞ ‚Äî –æ—Ç –∑–∞–ø—Ä–æ—Å–∞ –¥–æ Socket.IO —Å–æ–±—ã—Ç–∏—è.

**–§–∞–π–ª —Ç–µ—Å—Ç–∞**: `tests/viewerActivation.test.ts`

**–ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å**:
- [x] –£—Å–ø–µ—à–Ω–∞—è –∞–∫—Ç–∏–≤–∞—Ü–∏—è –º–µ–º–∞ —Å –¥–æ—Å—Ç–∞—Ç–æ—á–Ω—ã–º –±–∞–ª–∞–Ω—Å–æ–º
- [x] –û—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ–º –±–∞–ª–∞–Ω—Å–µ
- [x] –û—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ –¥–ª—è –Ω–µ–∞–∫—Ç–∏–≤–Ω–æ–≥–æ/—É–¥–∞–ª—ë–Ω–Ω–æ–≥–æ –º–µ–º–∞
- [x] –°–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π —Å—É–º–º—ã —Å —É—á—ë—Ç–æ–º –ø—Ä–æ–º–æ
- [x] –°–æ–∑–¥–∞–Ω–∏–µ `MemeActivation` —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º `queued`
- [x] Socket.IO emit `activation:new` –≤ –∫–æ–º–Ω–∞—Ç—É `channel:{slug}`
- [x] Socket.IO emit `wallet:updated` –≤ –∫–æ–º–Ω–∞—Ç—É `user:{userId}`
- [x] –ü—Ä–æ–≤–µ—Ä–∫–∞ —á—Ç–æ `wallet:updated` –ù–ï –∏–¥—ë—Ç –≤ `channel:*` (privacy)
- [x] Idempotency ‚Äî –ø–æ–≤—Ç–æ—Ä–Ω—ã–π –∑–∞–ø—Ä–æ—Å —Å —Ç–µ–º –∂–µ –∫–ª—é—á–æ–º –Ω–µ —Å–ø–∏—Å—ã–≤–∞–µ—Ç –¥–≤–∞–∂–¥—ã

**Acceptance Criteria**:
```
‚úÖ –í—Å–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –ø–æ–∫—Ä—ã—Ç—ã
‚úÖ –ü—Ä–æ–≤–µ—Ä–µ–Ω–∞ –∏–∑–æ–ª—è—Ü–∏—è wallet:updated (—Ç–æ–ª—å–∫–æ user room)
‚úÖ –ü—Ä–æ–≤–µ—Ä–µ–Ω–∞ —Ä–∞–±–æ—Ç–∞ —Å –ø—Ä–æ–º–æ-—Ü–µ–Ω–∞–º–∏
```

**–ü—Ä–∏–º–µ—Ä–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å**: 4-6 —á–∞—Å–æ–≤

---

## TICKET-002: Wallet Service

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç**: `src/services/WalletService.ts`

**–û–ø–∏—Å–∞–Ω–∏–µ**:
–ü–æ–ª–Ω–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ WalletService ‚Äî –≤—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –±–∞–ª–∞–Ω—Å–æ–º.

**–§–∞–π–ª —Ç–µ—Å—Ç–∞**: `tests/walletService.test.ts`

**–ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å**:
- [x] `getWallet` ‚Äî –ø–æ–ª—É—á–µ–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –∫–æ—à–µ–ª—å–∫–∞
- [x] `getWalletOrDefault` ‚Äî –≤–æ–∑–≤—Ä–∞—Ç default –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏
- [x] `getOrCreateWallet` ‚Äî upsert –ª–æ–≥–∏–∫–∞
- [x] `incrementBalance` ‚Äî –Ω–∞—á–∏—Å–ª–µ–Ω–∏–µ —Å optimistic locking
- [x] `decrementBalance` ‚Äî —Å–ø–∏—Å–∞–Ω–∏–µ
- [x] `setBalance` ‚Äî —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –±–∞–ª–∞–Ω—Å–∞
- [x] Race condition ‚Äî –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ (—É–∂–µ —á–∞—Å—Ç–∏—á–Ω–æ –≤ `walletConcurrency.test.ts`)
- [x] –ú–µ—Ç—Ä–∏–∫–∏ –∑–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è (`recordWalletOperation`, `recordWalletRaceConflict`)

–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: –≤ —Ç–µ–∫—É—â–µ–π –≤–µ—Ä—Å–∏–∏ `WalletService` –Ω–µ—Ç –º–µ—Ç–æ–¥–æ–≤ `credit/debit/transfer`, –ø–æ–∫—Ä—ã—Ç—ã –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ –ø—É–±–ª–∏—á–Ω—ã–µ –º–µ—Ç–æ–¥—ã.

**Acceptance Criteria**:
```
‚úÖ –í—Å–µ –ø—É–±–ª–∏—á–Ω—ã–µ –º–µ—Ç–æ–¥—ã –ø–æ–∫—Ä—ã—Ç—ã
‚úÖ –ü—Ä–æ–≤–µ—Ä–µ–Ω—ã edge cases (–æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–π –±–∞–ª–∞–Ω—Å, –Ω—É–ª–µ–≤—ã–µ —Å—É–º–º—ã)
‚úÖ –ü—Ä–æ–≤–µ—Ä–µ–Ω–∞ —Ä–∞–±–æ—Ç–∞ —Å lockedWallet
```

**–ü—Ä–∏–º–µ—Ä–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å**: 3-4 —á–∞—Å–∞

---

## TICKET-003: Submission Create Flow

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç**: `src/controllers/submission/createSubmission.ts`, `src/services/submission/submissionCreate*.ts`

**–û–ø–∏—Å–∞–Ω–∏–µ**:
–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–∑–¥–∞–Ω–∏—è submission —Å –∑–∞–≥—Ä—É–∑–∫–æ–π —Ñ–∞–π–ª–∞.

**–§–∞–π–ª —Ç–µ—Å—Ç–∞**: `tests/submissionCreate.test.ts`

**–ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å**:
- [x] –£—Å–ø–µ—à–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –≤–∏–¥–µ–æ (mock file)
- [x] –í–∞–ª–∏–¥–∞—Ü–∏—è magic bytes (–æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ spoofed files)
- [x] –í–∞–ª–∏–¥–∞—Ü–∏—è —Ä–∞–∑–º–µ—Ä–∞ —Ñ–∞–π–ª–∞ (> 50MB –æ—Ç–∫–ª–æ–Ω—è–µ—Ç—Å—è)
- [x] –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ (> 15s –æ—Ç–∫–ª–æ–Ω—è–µ—Ç—Å—è)
- [x] –î–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è –ø–æ SHA-256 (–ø–æ–≤—Ç–æ—Ä–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ = reuse FileHash)
- [x] Owner –∫–∞–Ω–∞–ª–∞ ‚Üí —Å—Ä–∞–∑—É `approved` –º–µ–º
- [x] Viewer ‚Üí `pending` submission
- [x] –°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ–≥–æ–≤ (—á–µ—Ä–µ–∑ `tags` body)
- [x] Socket.IO emit `submission:created`
- [x] Idempotency key –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –¥—É–±–ª–∏–∫–∞—Ç—ã

**–ú–æ–∫–∏—Ä–æ–≤–∞—Ç—å**:
- FFprobe (–¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å)
- File system / S3 storage
- Socket.IO emit

**Acceptance Criteria**:
```
‚úÖ Happy path –ø–æ–∫—Ä—ã—Ç
‚úÖ –í—Å–µ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –ø—Ä–æ–≤–µ—Ä–µ–Ω—ã
‚úÖ –ü—Ä–æ–≤–µ—Ä–µ–Ω–∞ –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è
```

**–ü—Ä–∏–º–µ—Ä–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å**: 6-8 —á–∞—Å–æ–≤

---

## TICKET-004: Submission Import (Server-side Download)

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç**: `src/controllers/submission/importMeme*.ts`

**–û–ø–∏—Å–∞–Ω–∏–µ**:
–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–º–ø–æ—Ä—Ç–∞ –º–µ–º–∞ –ø–æ URL (server-side download).

**–§–∞–π–ª —Ç–µ—Å—Ç–∞**: `tests/submissionImport.test.ts`

**–ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å**:
- [x] –£—Å–ø–µ—à–Ω—ã–π –∏–º–ø–æ—Ä—Ç –ø–æ –≤–∞–ª–∏–¥–Ω–æ–º—É URL
- [x] –û—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ –Ω–µ–≤–∞–ª–∏–¥–Ω–æ–≥–æ URL
- [x] –û—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–≥–æ —Ñ–∞–π–ª–∞
- [x] –û—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ –Ω–µ–≤–∞–ª–∏–¥–Ω–æ–≥–æ content-type
- [x] Timeout –ø—Ä–∏ –¥–æ–ª–≥–æ–º —Å–∫–∞—á–∏–≤–∞–Ω–∏–∏
- [x] –î–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è (—Ç–æ—Ç –∂–µ —Ñ–∞–π–ª = reuse)
- [x] Owner import ‚Üí —Å—Ä–∞–∑—É –≤ –º–µ–º—ã

**–ú–æ–∫–∏—Ä–æ–≤–∞—Ç—å**:
- HTTP –∑–∞–ø—Ä–æ—Å—ã (nock –∏–ª–∏ msw)
- FFprobe
- Storage

**Acceptance Criteria**:
```
‚úÖ –ü—Ä–æ–≤–µ—Ä–µ–Ω—ã –≤—Å–µ error cases
‚úÖ –ó–∞–º–æ–∫–∏—Ä–æ–≤–∞–Ω—ã –≤–Ω–µ—à–Ω–∏–µ HTTP –∑–∞–ø—Ä–æ—Å—ã
```

**–ü—Ä–∏–º–µ—Ä–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å**: 4-5 —á–∞—Å–æ–≤

---

## TICKET-005: Submission Moderation (Approve/Reject/NeedsChanges)

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç**: `src/services/submission/submissionApprove.ts`, `submissionReject.ts`, `submissionNeedsChanges.ts`

**–û–ø–∏—Å–∞–Ω–∏–µ**:
–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –º–æ–¥–µ—Ä–∞—Ü–∏–∏ submissions.

**–§–∞–π–ª —Ç–µ—Å—Ç–∞**: `tests/submissionModeration.test.ts`

**–ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å**:
- [x] Approve: submission ‚Üí ChannelMeme + MemeAsset
- [x] Approve: –Ω–∞—á–∏—Å–ª–µ–Ω–∏–µ submissionRewardCoins (–µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ)
- [x] Approve: –ø—Ä–æ–≤–µ—Ä–∫–∞ onlyWhenLive —Ñ–ª–∞–≥–∞
- [x] Reject: —É—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ + –ø—Ä–∏—á–∏–Ω—ã
- [x] NeedsChanges: —É—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ + feedback
- [x] –î–æ—Å—Ç—É–ø: —Ç–æ–ª—å–∫–æ streamer/admin –∫–∞–Ω–∞–ª–∞ –º–æ–≥—É—Ç –º–æ–¥–µ—Ä–∏—Ä–æ–≤–∞—Ç—å
- [x] Socket.IO —Å–æ–±—ã—Ç–∏—è –ø—Ä–∏ —Å–º–µ–Ω–µ —Å—Ç–∞—Ç—É—Å–∞
- [x] File operations –ø—Ä–∏ approve (–ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ –∏–∑ temp)

**Acceptance Criteria**:
```
‚úÖ –í—Å–µ —Ç—Ä–∏ –æ–ø–µ—Ä–∞—Ü–∏–∏ –ø–æ–∫—Ä—ã—Ç—ã
‚úÖ –ü—Ä–æ–≤–µ—Ä–µ–Ω—ã –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞
‚úÖ –ü—Ä–æ–≤–µ—Ä–µ–Ω–æ –Ω–∞—á–∏—Å–ª–µ–Ω–∏–µ –Ω–∞–≥—Ä–∞–¥
```

**–ü—Ä–∏–º–µ—Ä–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å**: 5-6 —á–∞—Å–æ–≤

---

## TICKET-006: Submission Resubmit

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç**: `src/controllers/submission/resubmitSubmission.ts`

**–û–ø–∏—Å–∞–Ω–∏–µ**:
–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–≤—Ç–æ—Ä–Ω–æ–π –æ—Ç–ø—Ä–∞–≤–∫–∏ –ø–æ—Å–ª–µ needs_changes.

**–§–∞–π–ª —Ç–µ—Å—Ç–∞**: `tests/submissionResubmit.test.ts`

**–ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å**:
- [x] –£—Å–ø–µ—à–Ω—ã–π resubmit –∏–∑ —Å—Ç–∞—Ç—É—Å–∞ `needs_changes`
- [x] –û—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ resubmit –∏–∑ –¥—Ä—É–≥–∏—Ö —Å—Ç–∞—Ç—É—Å–æ–≤
- [x] –¢–æ–ª—å–∫–æ –∞–≤—Ç–æ—Ä –º–æ–∂–µ—Ç resubmit
- [x] –ù–æ–≤—ã–π —Ñ–∞–π–ª –∑–∞–º–µ–Ω—è–µ—Ç —Å—Ç–∞—Ä—ã–π (N/A: resubmit –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Ç–æ–ª—å–∫–æ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ)
- [x] –°—Ç–∞—Ç—É—Å –º–µ–Ω—è–µ—Ç—Å—è –Ω–∞ `pending`

**Acceptance Criteria**:
```
‚úÖ –ü—Ä–æ–≤–µ—Ä–µ–Ω—ã –≤—Å–µ —Å—Ç–∞—Ç—É—Å—ã
‚úÖ –ü—Ä–æ–≤–µ—Ä–µ–Ω—ã –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞
```

**–ü—Ä–∏–º–µ—Ä–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å**: 2-3 —á–∞—Å–∞

---

## TICKET-007: Bulk Submissions Operations

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç**: `src/controllers/streamer/bulkSubmissionsController.ts`

**–û–ø–∏—Å–∞–Ω–∏–µ**:
–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –º–∞—Å—Å–æ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π —Å submissions.

**–§–∞–π–ª —Ç–µ—Å—Ç–∞**: `tests/submissionBulk.test.ts`

**–ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å**:
- [x] Bulk approve (–Ω–µ—Å–∫–æ–ª—å–∫–æ submissions)
- [x] Bulk reject
- [x] Partial success (—á–∞—Å—Ç—å approved, —á–∞—Å—Ç—å failed)
- [x] –í–∞–ª–∏–¥–∞—Ü–∏—è –º–∞—Å—Å–∏–≤–∞ ID
- [x] –ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞

**Acceptance Criteria**:
```
‚úÖ –ü—Ä–æ–≤–µ—Ä–µ–Ω—ã –≤—Å–µ bulk –æ–ø–µ—Ä–∞—Ü–∏–∏
‚úÖ –ü—Ä–æ–≤–µ—Ä–µ–Ω–∞ partial success –ª–æ–≥–∏–∫–∞
```

**–ü—Ä–∏–º–µ—Ä–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å**: 3-4 —á–∞—Å–∞

---

## TICKET-008: Auth OAuth Initiate & Callback

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç**: `src/controllers/auth/*`, `src/auth/providers/*`

**–û–ø–∏—Å–∞–Ω–∏–µ**:
–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ OAuth flow –¥–ª—è –≤—Å–µ—Ö –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤.

**–§–∞–π–ª —Ç–µ—Å—Ç–∞**: `tests/authOAuthFlows.test.ts` (—Ä–∞—Å—à–∏—Ä–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π `oauthCallbackFlows.test.ts`)

**–ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞** (Twitch, YouTube, Discord, VK, VKVideo, Kick, Trovo):
- [x] `GET /auth/:provider` ‚Äî redirect –Ω–∞ OAuth URL
- [x] `GET /auth/:provider/callback` ‚Äî —É—Å–ø–µ—à–Ω—ã–π callback, —Å–æ–∑–¥–∞–Ω–∏–µ user
- [x] Callback —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º user ‚Äî login
- [x] –ù–µ–≤–∞–ª–∏–¥–Ω—ã–π state ‚Äî –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ
- [x] Expired state ‚Äî –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ
- [x] OAuth error –æ—Ç –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ ‚Äî –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞
- [x] –£—Å—Ç–∞–Ω–æ–≤–∫–∞ cookie (token/token_beta –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç instance)

**–ú–æ–∫–∏—Ä–æ–≤–∞—Ç—å**:
- OAuth token exchange
- User info endpoints

**Acceptance Criteria**:
```
‚úÖ –í—Å–µ 7 –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤ –ø–æ–∫—Ä—ã—Ç—ã
‚úÖ –ü—Ä–æ–≤–µ—Ä–µ–Ω–∞ beta/prod cookie isolation
```

**–ü—Ä–∏–º–µ—Ä–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å**: 8-10 —á–∞—Å–æ–≤

---

## TICKET-009: Auth Account Linking

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç**: `src/controllers/auth/accounts.ts`

**–û–ø–∏—Å–∞–Ω–∏–µ**:
–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–≤—è–∑—ã–≤–∞–Ω–∏—è/–æ—Ç–≤—è–∑—ã–≤–∞–Ω–∏—è –∞–∫–∫–∞—É–Ω—Ç–æ–≤.

**–§–∞–π–ª —Ç–µ—Å—Ç–∞**: `tests/authAccountLinking.test.ts`

**–ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å**:
- [x] `GET /auth/accounts` ‚Äî —Å–ø–∏—Å–æ–∫ —Å–≤—è–∑–∞–Ω–Ω—ã—Ö –∞–∫–∫–∞—É–Ω—Ç–æ–≤
- [x] `GET /auth/:provider/link` ‚Äî initiate linking
- [x] `GET /auth/:provider/link/callback` ‚Äî complete linking
- [x] `DELETE /auth/accounts/:id` ‚Äî unlink
- [x] –ù–µ–ª—å–∑—è –æ—Ç–≤—è–∑–∞—Ç—å primary account
- [x] Linking —É–∂–µ —Å–≤—è–∑–∞–Ω–Ω–æ–≥–æ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ ‚Äî –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤
- [x] Linking –∫ –¥—Ä—É–≥–æ–º—É user ‚Äî conflict

**Acceptance Criteria**:
```
‚úÖ –í—Å–µ CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏ –ø–æ–∫—Ä—ã—Ç—ã
‚úÖ –ü—Ä–æ–≤–µ—Ä–µ–Ω—ã edge cases
```

**–ü—Ä–∏–º–µ—Ä–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å**: 4-5 —á–∞—Å–æ–≤

---

## TICKET-010: Auth Boosty Link

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç**: `src/controllers/auth/boosty.ts`

**–û–ø–∏—Å–∞–Ω–∏–µ**:
–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ manual linking Boosty (–±–µ–∑ OAuth redirect).

**–§–∞–π–ª —Ç–µ—Å—Ç–∞**: `tests/authBoostyLink.test.ts`

**–ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å**:
- [x] `POST /auth/boosty/link` —Å –≤–∞–ª–∏–¥–Ω—ã–º API key
- [x] –û—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ –Ω–µ–≤–∞–ª–∏–¥–Ω–æ–≥–æ API key
- [x] –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–º linking

**–ú–æ–∫–∏—Ä–æ–≤–∞—Ç—å**:
- Boosty API

**Acceptance Criteria**:
```
‚úÖ –ü—Ä–æ–≤–µ—Ä–µ–Ω–∞ –≤–∞–ª–∏–¥–∞—Ü–∏—è API key
```

**–ü—Ä–∏–º–µ—Ä–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å**: 2 —á–∞—Å–∞

---

## TICKET-011: Auth Logout

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç**: `src/controllers/auth/index.ts` (logout)

**–û–ø–∏—Å–∞–Ω–∏–µ**:
–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ logout flow.

**–§–∞–π–ª —Ç–µ—Å—Ç–∞**: `tests/authLogout.test.ts` (—Ä–∞—Å—à–∏—Ä–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π `logoutCsrf.test.ts`)

**–ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å**:
**–ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å**:
- [x] `POST /auth/logout` ‚Äî –æ—á–∏—Å—Ç–∫–∞ cookie
- [x] Logout –Ω–∞ beta ‚Äî –æ—á–∏—Å—Ç–∫–∞ `token_beta`
- [x] Logout –Ω–∞ prod ‚Äî –æ—á–∏—Å—Ç–∫–∞ `token`
- [x] CSRF –ø—Ä–æ–≤–µ—Ä–∫–∞ (—É–∂–µ –ø–æ–∫—Ä—ã—Ç–æ —á–∞—Å—Ç–∏—á–Ω–æ)
- [x] Logout –±–µ–∑ cookie ‚Äî 200 OK (idempotent)

**Acceptance Criteria**:
```
‚úÖ –ü—Ä–æ–≤–µ—Ä–µ–Ω–∞ –æ—á–∏—Å—Ç–∫–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ cookie
```

**–ü—Ä–∏–º–µ—Ä–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å**: 1-2 —á–∞—Å–∞

---

## TICKET-012: Public Channel API

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç**: `src/controllers/public/channelPublic/*`

**–û–ø–∏—Å–∞–Ω–∏–µ**:
–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—É–±–ª–∏—á–Ω–æ–≥–æ API –∫–∞–Ω–∞–ª–æ–≤ (–¥–æ—Å—Ç—É–ø–Ω–æ –≥–æ—Å—Ç—è–º).

**–§–∞–π–ª —Ç–µ—Å—Ç–∞**: `tests/publicChannelApi.test.ts`

**–ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å**:
- [x] `GET /public/channels/:slug` - channel meta
- [x] `GET /public/channels/:slug?includeMemes=true` - —Å –º–µ–º–∞–º–∏
- [x] `GET /public/channels/:slug/memes` - pagination
- [x] `GET /public/channels/:slug/memes/search?q=...` - –ø–æ–∏—Å–∫
- [x] –ù–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π slug - 404
- [x] Pagination –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (limit, offset, sortBy, sortOrder)
- [x] DTO –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –ø—Ä–∏–≤–∞—Ç–Ω—ã—Ö –ø–æ–ª–µ–π

**Acceptance Criteria**:
```
‚úÖ –í—Å–µ endpoints –ø–æ–∫—Ä—ã—Ç—ã
‚úÖ –ü—Ä–æ–≤–µ—Ä–µ–Ω–∞ pagination
‚úÖ –ü—Ä–æ–≤–µ—Ä–µ–Ω sanitized DTO
```

**–ü—Ä–∏–º–µ—Ä–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å**: 4-5 —á–∞—Å–æ–≤

---

## TICKET-013: Public Submissions Control (Token-based)

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç**: `src/controllers/public/submissionsPublicControlController.ts`

**–û–ø–∏—Å–∞–Ω–∏–µ**:
–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ token-based control –¥–ª—è StreamDeck/StreamerBot.

**–§–∞–π–ª —Ç–µ—Å—Ç–∞**: `tests/publicSubmissionsControl.test.ts`

**–ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å**:
- [x] `GET /public/submissions/status?token=...`
- [x] `POST /public/submissions/enable?token=...`
- [x] `POST /public/submissions/disable?token=...`
- [x] `POST /public/submissions/toggle?token=...`
- [x] –ù–µ–≤–∞–ª–∏–¥–Ω—ã–π token - 401
- [x] Socket.IO emit `submissions:status`

**Acceptance Criteria**:
```
‚úÖ –í—Å–µ endpoints –ø–æ–∫—Ä—ã—Ç—ã
‚úÖ –ü—Ä–æ–≤–µ—Ä–µ–Ω–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø–æ token
```

**–ü—Ä–∏–º–µ—Ä–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å**: 3 —á–∞—Å–∞

---

# –§–ê–ó–ê 2: Streamer —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

> **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üü† –°–†–ï–î–ù–ò–ô-–í–´–°–û–ö–ò–ô
>
> **–¶–µ–ª—å —Ñ–∞–∑—ã**: –ø–æ–∫—Ä—ã—Ç–∏–µ 55%

---

## TICKET-014: Viewer /me Endpoint

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç**: `src/controllers/viewer/me.ts`

**–û–ø–∏—Å–∞–Ω–∏–µ**:
–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ GET /me.

**–§–∞–π–ª —Ç–µ—Å—Ç–∞**: `tests/viewerMe.test.ts`

**–ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å**:
- [x] –í–æ–∑–≤—Ä–∞—Ç user data (id, displayName, profileImageUrl, role)
- [x] –í–∫–ª—é—á–µ–Ω–∏–µ channel –µ—Å–ª–∏ –µ—Å—Ç—å
- [x] –í–∫–ª—é—á–µ–Ω–∏–µ wallets
- [x] –í–∫–ª—é—á–µ–Ω–∏–µ externalAccounts
- [x] isGlobalModerator —Ñ–ª–∞–≥
- [x] 401 –±–µ–∑ auth

**Acceptance Criteria**:
```
‚úÖ –í—Å–µ –ø–æ–ª—è –ø—Ä–æ–≤–µ—Ä–µ–Ω—ã
‚úÖ –ü—Ä–æ–≤–µ—Ä–µ–Ω unauthorized case
```

**–ü—Ä–∏–º–µ—Ä–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å**: 2 —á–∞—Å–∞

---

## TICKET-015: Viewer Preferences

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç**: `src/controllers/viewer/preferences.ts`

**–û–ø–∏—Å–∞–Ω–∏–µ**:
–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ GET/PATCH /me/preferences.

**–§–∞–π–ª —Ç–µ—Å—Ç–∞**: `tests/viewerPreferences.test.ts`

**–ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å**:
- [x] `GET /me/preferences` - —Ç–µ–∫—É—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- [x] `PATCH /me/preferences` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
- [x] –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–æ–ª–µ–π
- [x] Partial update (—Ç–æ–ª—å–∫–æ –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã–µ –ø–æ–ª—è)

**Acceptance Criteria**:
```
‚úÖ CRUD –ø–æ–∫—Ä—ã—Ç
```

**–ü—Ä–∏–º–µ—Ä–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å**: 2 —á–∞—Å–∞

---

## TICKET-016: Viewer Wallet Endpoints

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç**: `src/controllers/viewer/wallet.ts`

**–û–ø–∏—Å–∞–Ω–∏–µ**:
–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ wallet endpoints.

**–§–∞–π–ª —Ç–µ—Å—Ç–∞**: `tests/viewerWallet.test.ts`

**–ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å**:
- [x] `GET /wallet?channelId=...` - –∫–æ—à–µ–ª—ë–∫ –¥–ª—è –∫–∞–Ω–∞–ª–∞ (N/A: —Å–ø–∏—Å–∫–∞ –≤—Å–µ—Ö –∫–æ—à–µ–ª—å–∫–æ–≤ –Ω–µ—Ç)
- [x] `GET /channels/:slug/wallet` - –∫–æ—à–µ–ª—ë–∫ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –∫–∞–Ω–∞–ª–∞
- [x] Upsert –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –æ–±—Ä–∞—â–µ–Ω–∏–∏ (—Å–æ–∑–¥–∞–Ω–∏–µ –µ—Å–ª–∏ –Ω–µ—Ç)
- [x] 401 –±–µ–∑ auth

**Acceptance Criteria**:
```
‚úÖ –û–±–∞ endpoint –ø–æ–∫—Ä—ã—Ç—ã
```

**–ü—Ä–∏–º–µ—Ä–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å**: 2 —á–∞—Å–∞

---

## TICKET-017: Viewer Memes List & Search

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç**: `src/controllers/viewer/memes.ts`, `src/controllers/viewer/search.ts`

**–û–ø–∏—Å–∞–Ω–∏–µ**:
–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –º–µ–º–æ–≤ –∏ –ø–æ–∏—Å–∫–∞.

**–§–∞–π–ª —Ç–µ—Å—Ç–∞**: `tests/viewerMemesSearch.test.ts`

**–ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å**:
- [x] `GET /memes` - –º–µ–º—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- [x] `GET /channels/:slug/memes` - –º–µ–º—ã –∫–∞–Ω–∞–ª–∞
- [x] `GET /channels/memes/search?q=...` - –ø–æ–∏—Å–∫
- [x] Pagination
- [x] Sorting (createdAt, priceCoins)
- [x] memeCatalogMode –≤–ª–∏—è–Ω–∏–µ (channel vs pool_all)
- [x] ETag / 304 caching

**Acceptance Criteria**:
```
‚úÖ –í—Å–µ endpoints –ø–æ–∫—Ä—ã—Ç—ã
‚úÖ –ü—Ä–æ–≤–µ—Ä–µ–Ω–∞ pagination –∏ sorting
```

**–ü—Ä–∏–º–µ—Ä–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å**: 4 —á–∞—Å–∞

---

## TICKET-018: Viewer Stats

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç**: `src/controllers/viewer/stats.ts`

**–û–ø–∏—Å–∞–Ω–∏–µ**:
–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ GET /memes/stats.

**–§–∞–π–ª —Ç–µ—Å—Ç–∞**: `tests/viewerStats.test.ts`

**–ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å**:
- [x] –¢–æ–ø –º–µ–º–æ–≤ –ø–æ –∞–∫—Ç–∏–≤–∞—Ü–∏—è–º
- [x] –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ (minute buckets)
- [x] –ü—É—Å—Ç–æ–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –¥–∞–Ω–Ω—ã—Ö

**Acceptance Criteria**:
```
‚úÖ –ü—Ä–æ–≤–µ—Ä–µ–Ω–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ –∫—ç—à
```

**–ü—Ä–∏–º–µ—Ä–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å**: 2 —á–∞—Å–∞

---

## TICKET-019: Viewer Pool Operations

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç**: `src/controllers/viewer/pool.ts`, `src/controllers/submission/createPoolSubmission.ts`

**–û–ø–∏—Å–∞–Ω–∏–µ**:
–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–π —Å pool –º–µ–º–∞–º–∏.

**–§–∞–π–ª —Ç–µ—Å—Ç–∞**: `tests/viewerPool.test.ts`

**–ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å**:
- [x] `POST /submissions/pool` - –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –∏–∑ pool
- [x] –ü—Ä–æ–≤–µ—Ä–∫–∞ memeCatalogMode=pool_all
- [x] –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ AI –ø–æ–ª–µ–π –ø—Ä–∏ adoption

**Acceptance Criteria**:
```
‚úÖ Pool adoption –ø–æ–∫—Ä—ã—Ç
```

**–ü—Ä–∏–º–µ—Ä–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å**: 3 —á–∞—Å–∞

---

## TICKET-020: YouTube Like Reward

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç**: `src/controllers/viewer/youtubeLikeReward.ts`

**–û–ø–∏—Å–∞–Ω–∏–µ**:
–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ YouTube like reward claim.

**–§–∞–π–ª —Ç–µ—Å—Ç–∞**: `tests/viewerYoutubeLikeReward.test.ts`

**–ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å**:
- [x] `POST /rewards/youtube/like/claim`
- [x] status: disabled (feature off)
- [x] status: need_youtube_link
- [x] status: need_relink_scopes
- [x] status: not_live
- [x] status: cooldown
- [x] status: not_liked
- [x] status: already_claimed
- [x] status: success + –Ω–∞—á–∏—Å–ª–µ–Ω–∏–µ coins

**–ú–æ–∫–∏—Ä–æ–≤–∞—Ç—å**:
- YouTube API (videos.getRating)

**Acceptance Criteria**:
```
‚úÖ –í—Å–µ —Å—Ç–∞—Ç—É—Å—ã –ø—Ä–æ–≤–µ—Ä–µ–Ω—ã
```

**–ü—Ä–∏–º–µ—Ä–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å**: 4 —á–∞—Å–∞

---

## TICKET-021: Streamer Submissions List

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç**: `src/controllers/admin/submissions.ts`

**–û–ø–∏—Å–∞–Ω–∏–µ**:
–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ GET /streamer/submissions.

**–§–∞–π–ª —Ç–µ—Å—Ç–∞**: `tests/streamerSubmissions.test.ts`

**–ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å**:
- [x] –°–ø–∏—Å–æ–∫ submissions –Ω–∞ –º–æ–¥–µ—Ä–∞—Ü–∏—é
- [x] –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Å—Ç–∞—Ç—É—Å—É
- [x] Pagination
- [x] –î–æ—Å—Ç—É–ø —Ç–æ–ª—å–∫–æ –¥–ª—è streamer/admin
- [x] –¢–æ–ª—å–∫–æ submissions —Å–≤–æ–µ–≥–æ –∫–∞–Ω–∞–ª–∞

**Acceptance Criteria**:
```
‚úÖ –ü—Ä–æ–≤–µ—Ä–µ–Ω–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∏ –ø—Ä–∞–≤–∞
```

**–ü—Ä–∏–º–µ—Ä–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å**: 3 —á–∞—Å–∞

---

## TICKET-022: Streamer Memes CRUD

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç**: `src/controllers/admin/memes.ts`

**–û–ø–∏—Å–∞–Ω–∏–µ**:
–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ CRUD –æ–ø–µ—Ä–∞—Ü–∏–π —Å –º–µ–º–∞–º–∏ –¥–ª—è —Å—Ç—Ä–∏–º–µ—Ä–∞.

**–§–∞–π–ª —Ç–µ—Å—Ç–∞**: `tests/streamerMemes.test.ts`

**–ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å**:
- [x] `GET /streamer/memes` - —Å–ø–∏—Å–æ–∫ –º–µ–º–æ–≤ –∫–∞–Ω–∞–ª–∞
- [x] `PATCH /streamer/memes/:id` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ (title, price; N/A: tags)
- [x] `DELETE /streamer/memes/:id` - soft delete
- [x] –î–æ—Å—Ç—É–ø —Ç–æ–ª—å–∫–æ –∫ –º–µ–º–∞–º —Å–≤–æ–µ–≥–æ –∫–∞–Ω–∞–ª–∞
- [x] –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–æ–ª–µ–π –ø—Ä–∏ update

**Acceptance Criteria**:
```
‚úÖ CRUD –ø–æ–∫—Ä—ã—Ç
‚úÖ –ü—Ä–æ–≤–µ—Ä–µ–Ω—ã –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞
```

**–ü—Ä–∏–º–µ—Ä–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å**: 4 —á–∞—Å–∞

---

## TICKET-023: Streamer Channel Settings

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç**: `src/controllers/admin/channelSettings.ts`, `src/controllers/admin/channelSettings/*`

**–û–ø–∏—Å–∞–Ω–∏–µ**:
–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ PATCH /streamer/channel/settings.

**–§–∞–π–ª —Ç–µ—Å—Ç–∞**: `tests/streamerChannelSettings.test.ts`

**–ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å**:
- [x] –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –±–∞–∑–æ–≤—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫ (colors; N/A: name/coinIconUrl –Ω–µ—Ç –≤ PATCH schema)
- [x] –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ reward –Ω–∞—Å—Ç—Ä–æ–µ–∫ (coinPerPointRatio, rewardCoins –∏ —Ç.–¥.)
- [x] –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ submission –Ω–∞—Å—Ç—Ä–æ–µ–∫ (submissionsEnabled, onlyWhenLive)
- [x] –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ overlay –Ω–∞—Å—Ç—Ä–æ–µ–∫
- [x] –í–∞–ª–∏–¥–∞—Ü–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è)
- [x] Partial update
- [x] Socket.IO emit –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏

**Acceptance Criteria**:
```
‚úÖ –í—Å–µ –≥—Ä—É–ø–ø—ã –Ω–∞—Å—Ç—Ä–æ–µ–∫ –ø–æ–∫—Ä—ã—Ç—ã
‚úÖ –ü—Ä–æ–≤–µ—Ä–µ–Ω–∞ –≤–∞–ª–∏–¥–∞—Ü–∏—è
```

**–ü—Ä–∏–º–µ—Ä–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å**: 5 —á–∞—Å–æ–≤

---

## TICKET-024: Streamer Twitch Rewards

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç**: `src/controllers/admin/channelSettings/twitchRewards.ts`, `twitchAutoRewardsEventSub.ts`

**–û–ø–∏—Å–∞–Ω–∏–µ**:
–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è Twitch Channel Points.

**–§–∞–π–ª —Ç–µ—Å—Ç–∞**: `tests/streamerTwitchRewards.test.ts`

**–ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å**:
- [x] `GET /streamer/twitch/reward/eligibility`
- [x] Create/Update/Delete reward
- [x] EventSub subscription management
- [x] Auto rewards configuration

**–ú–æ–∫–∏—Ä–æ–≤–∞—Ç—å**:
- Twitch API

**Acceptance Criteria**:
```
‚úÖ –í—Å–µ reward –æ–ø–µ—Ä–∞—Ü–∏–∏ –ø–æ–∫—Ä—ã—Ç—ã
```

**–ü—Ä–∏–º–µ—Ä–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å**: 5 —á–∞—Å–æ–≤

---

## TICKET-025: Streamer Kick Rewards

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç**: `src/controllers/admin/channelSettings/kickRewards.ts`

**–û–ø–∏—Å–∞–Ω–∏–µ**:
–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ Kick rewards configuration.

**–§–∞–π–ª —Ç–µ—Å—Ç–∞**: `tests/streamerKickRewards.test.ts`

**–ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å**:
- [x] –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Kick rewards
- [x] –í–∞–ª–∏–¥–∞—Ü–∏—è

**Acceptance Criteria**:
```
‚úÖ Kick rewards –ø–æ–∫—Ä—ã—Ç—ã
```

**–ü—Ä–∏–º–µ—Ä–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å**: 2 —á–∞—Å–∞

---

## TICKET-026: Streamer Overlay Settings

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç**: `src/controllers/admin/overlay.ts`

**–û–ø–∏—Å–∞–Ω–∏–µ**:
–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ overlay configuration.

**–§–∞–π–ª —Ç–µ—Å—Ç–∞**: `tests/streamerOverlay.test.ts`

**–ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å**:
- [x] GET overlay settings
- [x] PATCH overlay settings (via PUT overlay presets; overlay fields updated in channel settings)
- [x] –ì–µ–Ω–µ—Ä–∞—Ü–∏—è overlay URL/token

**Acceptance Criteria**:
```
‚úÖ Overlay config –ø–æ–∫—Ä—ã—Ç
```

**–ü—Ä–∏–º–µ—Ä–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å**: 2 —á–∞—Å–∞

---

## TICKET-027: Streamer Overlay Presets

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç**: `src/controllers/admin/overlayPresets.ts`

**–û–ø–∏—Å–∞–Ω–∏–µ**:
–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ CRUD overlay presets.

**–§–∞–π–ª —Ç–µ—Å—Ç–∞**: `tests/streamerOverlayPresets.test.ts`

**–ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å**:
- [ ] Create preset
- [ ] List presets
- [ ] Update preset
- [ ] Delete preset
- [ ] Apply preset

**Acceptance Criteria**:
```
‚úÖ CRUD –ø–æ–∫—Ä—ã—Ç
```

**–ü—Ä–∏–º–µ—Ä–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å**: 3 —á–∞—Å–∞

---

## TICKET-028: Streamer Stats

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç**: `src/controllers/admin/stats.ts`

**–û–ø–∏—Å–∞–Ω–∏–µ**:
–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ GET /streamer/stats.

**–§–∞–π–ª —Ç–µ—Å—Ç–∞**: `tests/streamerStats.test.ts`

**–ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å**:
- [ ] –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∫–∞–Ω–∞–ª–∞ (activations, revenue, users)
- [ ] –ü–µ—Ä–∏–æ–¥ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏

**Acceptance Criteria**:
```
‚úÖ Stats endpoint –ø–æ–∫—Ä—ã—Ç
```

**–ü—Ä–∏–º–µ—Ä–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å**: 2 —á–∞—Å–∞

---

## TICKET-029: Streamer Promotions

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç**: `src/controllers/admin/promotions.ts`

**–û–ø–∏—Å–∞–Ω–∏–µ**:
–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ CRUD promotions.

**–§–∞–π–ª —Ç–µ—Å—Ç–∞**: `tests/streamerPromotions.test.ts`

**–ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å**:
- [ ] Create promotion (discount percentage, dates)
- [ ] List promotions
- [ ] Update promotion
- [ ] Delete promotion
- [ ] –ê–∫—Ç–∏–≤–Ω–∞—è –ø—Ä–æ–º–æ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∫ —Ü–µ–Ω–µ

**Acceptance Criteria**:
```
‚úÖ CRUD –ø–æ–∫—Ä—ã—Ç
‚úÖ –ü—Ä–æ–≤–µ—Ä–µ–Ω–æ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —Å–∫–∏–¥–∫–∏
```

**–ü—Ä–∏–º–µ—Ä–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å**: 4 —á–∞—Å–∞

---

## TICKET-030: Streamer Bot Integrations

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç**: `src/controllers/streamer/botIntegrationsController.ts`, `botController.ts`

**–û–ø–∏—Å–∞–Ω–∏–µ**:
–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ bot integrations (status, link, unlink).

**–§–∞–π–ª —Ç–µ—Å—Ç–∞**: `tests/streamerBotIntegrations.test.ts`

**–ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –¥–ª—è –∫–∞–∂–¥–æ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã** (Twitch, YouTube, Kick, Trovo, VKVideo):
- [ ] GET status
- [ ] Initiate link
- [ ] Unlink
- [ ] Custom bot vs default bot

**Acceptance Criteria**:
```
‚úÖ –í—Å–µ 5 –ø–ª–∞—Ç—Ñ–æ—Ä–º –ø–æ–∫—Ä—ã—Ç—ã
```

**–ü—Ä–∏–º–µ—Ä–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å**: 6 —á–∞—Å–æ–≤

---

## TICKET-031: Streamer Bot Settings

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç**: `src/controllers/streamer/botSettings*.ts`

**–û–ø–∏—Å–∞–Ω–∏–µ**:
–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –±–æ—Ç–æ–≤.

**–§–∞–π–ª —Ç–µ—Å—Ç–∞**: `tests/streamerBotSettings.test.ts`

**–ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å**:
- [ ] GET bot settings
- [ ] PATCH bot settings (commands, greetings, etc.)
- [ ] –í–∞–ª–∏–¥–∞—Ü–∏—è

**Acceptance Criteria**:
```
‚úÖ Settings –¥–ª—è –≤—Å–µ—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º –ø–æ–∫—Ä—ã—Ç—ã
```

**–ü—Ä–∏–º–µ—Ä–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å**: 4 —á–∞—Å–∞

---

## TICKET-032: Streamer Credits Overlay

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç**: `src/controllers/admin/creditsOverlay.ts`

**–û–ø–∏—Å–∞–Ω–∏–µ**:
–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ credits overlay configuration.

**–§–∞–π–ª —Ç–µ—Å—Ç–∞**: `tests/streamerCreditsOverlay.test.ts`

**–ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å**:
- [ ] GET credits overlay settings
- [ ] PATCH credits overlay settings
- [ ] –ì–µ–Ω–µ—Ä–∞—Ü–∏—è credits overlay URL

**Acceptance Criteria**:
```
‚úÖ Credits overlay –ø–æ–∫—Ä—ã—Ç
```

**–ü—Ä–∏–º–µ—Ä–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å**: 2 —á–∞—Å–∞

---

## TICKET-033: Streamer Entitlements

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç**: `src/controllers/streamer/entitlementsController.ts`

**–û–ø–∏—Å–∞–Ω–∏–µ**:
–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ entitlements —Å—Ç—Ä–∏–º–µ—Ä–∞.

**–§–∞–π–ª —Ç–µ—Å—Ç–∞**: `tests/streamerEntitlements.test.ts`

**–ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å**:
- [ ] GET entitlements (custom bot, features)
- [ ] –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω—ã—Ö/–Ω–µ–∞–∫—Ç–∏–≤–Ω—ã—Ö

**Acceptance Criteria**:
```
‚úÖ Entitlements view –ø–æ–∫—Ä—ã—Ç
```

**–ü—Ä–∏–º–µ—Ä–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å**: 1-2 —á–∞—Å–∞

---

## TICKET-034: Streamer AI Regenerate

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç**: `src/controllers/streamer/aiRegenerateController.ts`

**–û–ø–∏—Å–∞–Ω–∏–µ**:
–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ POST /streamer/memes/:id/ai/regenerate.

**–§–∞–π–ª —Ç–µ—Å—Ç–∞**: `tests/streamerAiRegenerate.test.ts`

**–ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å**:
- [ ] –ó–∞–ø—É—Å–∫ regenerate –¥–ª—è –º–µ–º–∞
- [ ] –î–æ—Å—Ç—É–ø —Ç–æ–ª—å–∫–æ –∫ —Å–≤–æ–∏–º –º–µ–º–∞–º
- [ ] Rate limiting

**–ú–æ–∫–∏—Ä–æ–≤–∞—Ç—å**:
- AI service / OpenAI

**Acceptance Criteria**:
```
‚úÖ Regenerate –ø–æ–∫—Ä—ã—Ç
```

**–ü—Ä–∏–º–µ—Ä–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å**: 2 —á–∞—Å–∞

---

## TICKET-035: Realtime Activation Events

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç**: `src/socket/index.ts`, `src/realtime/*`

**–û–ø–∏—Å–∞–Ω–∏–µ**:
–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ Socket.IO —Å–æ–±—ã—Ç–∏–π –∞–∫—Ç–∏–≤–∞—Ü–∏–∏.

**–§–∞–π–ª —Ç–µ—Å—Ç–∞**: `tests/realtimeActivation.test.ts`

**–ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å**:
- [ ] `activation:new` ‚Äî –æ—Ç–ø—Ä–∞–≤–∫–∞ –≤ channel room
- [ ] `activation:played` ‚Äî –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞
- [ ] `activation:done` ‚Äî –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ
- [ ] –¢–æ–ª—å–∫–æ –ø–æ–¥–ø–∏—Å–∞–Ω–Ω—ã–µ –∫–ª–∏–µ–Ω—Ç—ã –ø–æ–ª—É—á–∞—é—Ç —Å–æ–±—ã—Ç–∏—è

**Acceptance Criteria**:
```
‚úÖ –í—Å–µ activation —Å–æ–±—ã—Ç–∏—è –ø–æ–∫—Ä—ã—Ç—ã
```

**–ü—Ä–∏–º–µ—Ä–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å**: 4 —á–∞—Å–∞

---

## TICKET-036: Realtime Submission Events

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç**: `src/realtime/submissionBridge.ts`

**–û–ø–∏—Å–∞–Ω–∏–µ**:
–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ Socket.IO —Å–æ–±—ã—Ç–∏–π submissions.

**–§–∞–π–ª —Ç–µ—Å—Ç–∞**: `tests/realtimeSubmission.test.ts`

**–ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å**:
- [ ] `submission:created` ‚Äî –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏
- [ ] `submission:status` ‚Äî –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å—Ç–∞—Ç—É—Å–∞
- [ ] Slug normalization (lowercase)

**Acceptance Criteria**:
```
‚úÖ Submission events –ø–æ–∫—Ä—ã—Ç—ã
```

**–ü—Ä–∏–º–µ—Ä–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å**: 3 —á–∞—Å–∞

---

## TICKET-037: Realtime Credits State

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç**: `src/realtime/creditsState.ts`, `creditsSessionStore.ts`

**–û–ø–∏—Å–∞–Ω–∏–µ**:
–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ credits state management.

**–§–∞–π–ª —Ç–µ—Å—Ç–∞**: `tests/realtimeCreditsState.test.ts`

**–ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å**:
- [ ] Session store operations
- [ ] Credits state updates
- [ ] Ticker logic

**Acceptance Criteria**:
```
‚úÖ Credits realtime –ø–æ–∫—Ä—ã—Ç
```

**–ü—Ä–∏–º–µ—Ä–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å**: 3 —á–∞—Å–∞

---

# –§–ê–ó–ê 3: Admin –∏ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞

> **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üü° –°–†–ï–î–ù–ò–ô
>
> **–¶–µ–ª—å —Ñ–∞–∑—ã**: –ø–æ–∫—Ä—ã—Ç–∏–µ 70%

---

## TICKET-038: Owner Wallet Management

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç**: `src/controllers/admin/wallet.ts`

**–û–ø–∏—Å–∞–Ω–∏–µ**:
–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ owner wallet operations.

**–§–∞–π–ª —Ç–µ—Å—Ç–∞**: `tests/ownerWallet.test.ts`

**–ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å**:
- [ ] `GET /owner/wallets/options` ‚Äî options –¥–ª—è dropdown
- [ ] `GET /owner/wallets` ‚Äî –≤—Å–µ wallets (pagination)
- [ ] `POST /owner/wallets/:userId/:channelId/adjust` ‚Äî –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞ –±–∞–ª–∞–Ω—Å–∞
- [ ] –¢–æ–ª—å–∫–æ admin access

**Acceptance Criteria**:
```
‚úÖ Wallet management –ø–æ–∫—Ä—ã—Ç
```

**–ü—Ä–∏–º–µ—Ä–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å**: 3 —á–∞—Å–∞

---

## TICKET-039: Owner Default Bots

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç**: `src/controllers/owner/*DefaultBotController.ts`

**–û–ø–∏—Å–∞–Ω–∏–µ**:
–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ default bot management (all platforms).

**–§–∞–π–ª —Ç–µ—Å—Ç–∞**: `tests/ownerDefaultBots.test.ts`

**–ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –¥–ª—è –∫–∞–∂–¥–æ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã**:
- [ ] GET status
- [ ] Link start
- [ ] Unlink

**Acceptance Criteria**:
```
‚úÖ –í—Å–µ 5 –ø–ª–∞—Ç—Ñ–æ—Ä–º –ø–æ–∫—Ä—ã—Ç—ã
```

**–ü—Ä–∏–º–µ—Ä–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å**: 4 —á–∞—Å–∞

---

## TICKET-040: Owner Entitlements

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç**: `src/controllers/owner/entitlementsController.ts`

**–û–ø–∏—Å–∞–Ω–∏–µ**:
–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ grant/revoke entitlements.

**–§–∞–π–ª —Ç–µ—Å—Ç–∞**: `tests/ownerEntitlements.test.ts`

**–ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å**:
- [ ] `GET /owner/entitlements/custom-bot`
- [ ] `POST /owner/entitlements/custom-bot/grant`
- [ ] `POST /owner/entitlements/custom-bot/revoke`
- [ ] `POST /owner/entitlements/custom-bot/grant-by-provider`
- [ ] Rate limiting –Ω–∞ resolve

**Acceptance Criteria**:
```
‚úÖ Entitlements management –ø–æ–∫—Ä—ã—Ç
```

**–ü—Ä–∏–º–µ—Ä–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å**: 3 —á–∞—Å–∞

---

## TICKET-041: Owner Channel Resolve

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç**: `src/controllers/owner/channelResolveController.ts`

**–û–ø–∏—Å–∞–Ω–∏–µ**:
–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ channel resolve by provider.

**–§–∞–π–ª —Ç–µ—Å—Ç–∞**: `tests/ownerChannelResolve.test.ts`

**–ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å**:
- [ ] `GET /owner/channels/resolve?provider=...&externalId=...`
- [ ] –í—Å–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã
- [ ] Not found case

**Acceptance Criteria**:
```
‚úÖ Resolve –ø–æ–∫—Ä—ã—Ç
```

**–ü—Ä–∏–º–µ—Ä–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å**: 2 —á–∞—Å–∞

---

## TICKET-042: Owner Meme Asset Moderation

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç**: `src/controllers/owner/memeAssetModerationController.ts`

**–û–ø–∏—Å–∞–Ω–∏–µ**:
–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ pool moderation.

**–§–∞–π–ª —Ç–µ—Å—Ç–∞**: `tests/ownerMemeAssetModeration.test.ts`

**–ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å**:
- [ ] `GET /owner/meme-assets` ‚Äî list
- [ ] `POST /owner/meme-assets/:id/hide`
- [ ] `POST /owner/meme-assets/:id/unhide`
- [ ] `POST /owner/meme-assets/:id/purge`
- [ ] `POST /owner/meme-assets/:id/restore`

**Acceptance Criteria**:
```
‚úÖ –í—Å–µ moderation actions –ø–æ–∫—Ä—ã—Ç—ã
```

**–ü—Ä–∏–º–µ—Ä–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å**: 3 —á–∞—Å–∞

---

## TICKET-043: Owner Global Moderators

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç**: `src/controllers/owner/moderatorsController.ts`

**–û–ø–∏—Å–∞–Ω–∏–µ**:
–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ global moderators management.

**–§–∞–π–ª —Ç–µ—Å—Ç–∞**: `tests/ownerModerators.test.ts`

**–ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å**:
- [ ] `GET /owner/moderators` ‚Äî list
- [ ] `POST /owner/moderators/:userId/grant`
- [ ] `POST /owner/moderators/:userId/revoke`

**Acceptance Criteria**:
```
‚úÖ Moderators management –ø–æ–∫—Ä—ã—Ç
```

**–ü—Ä–∏–º–µ—Ä–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å**: 2 —á–∞—Å–∞

---

## TICKET-044: Owner AI Status

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç**: `src/controllers/owner/aiStatusController.ts`

**–û–ø–∏—Å–∞–Ω–∏–µ**:
–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ GET /owner/ai/status.

**–§–∞–π–ª —Ç–µ—Å—Ç–∞**: `tests/ownerAiStatus.test.ts`

**–ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å**:
- [ ] –°—Ç–∞—Ç—É—Å AI scheduler
- [ ] Queue stats

**Acceptance Criteria**:
```
‚úÖ AI status –ø–æ–∫—Ä—ã—Ç
```

**–ü—Ä–∏–º–µ—Ä–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å**: 1 —á–∞—Å

---

## TICKET-045: Repositories Layer

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç**: `src/repositories/*`

**–û–ø–∏—Å–∞–Ω–∏–µ**:
–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ repository layer.

**–§–∞–π–ª—ã —Ç–µ—Å—Ç–æ–≤**: `tests/repositories/*.test.ts`

**–ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è**:

### ChannelRepository
- [ ] findBySlug
- [ ] findById
- [ ] update

### MemeRepository
- [ ] create
- [ ] findById
- [ ] findByChannel (pagination)
- [ ] update
- [ ] softDelete

### SubmissionRepository
- [ ] create
- [ ] findById
- [ ] findByChannel (filtering, pagination)
- [ ] updateStatus

### UserRepository
- [ ] findById
- [ ] findByExternalAccount
- [ ] create
- [ ] update

### WalletRepository
- [ ] findByKey
- [ ] upsert
- [ ] lockForUpdate

**Acceptance Criteria**:
```
‚úÖ –í—Å–µ repositories –ø–æ–∫—Ä—ã—Ç—ã
```

**–ü—Ä–∏–º–µ—Ä–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å**: 8 —á–∞—Å–æ–≤ (–≤—Å–µ –≤–º–µ—Å—Ç–µ)

---

## TICKET-046: Utility Functions ‚Äî Core

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç**: `src/utils/*` (core utilities)

**–û–ø–∏—Å–∞–Ω–∏–µ**:
–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ core utility functions.

**–§–∞–π–ª —Ç–µ—Å—Ç–∞**: `tests/utilsCore.test.ts`

**–ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å**:
- [ ] `pagination.ts` ‚Äî buildPaginatedResponse, parsePaginationParams
- [ ] `dto.ts` ‚Äî DTO transformations
- [ ] `tags.ts` ‚Äî tag normalization
- [ ] `jwt.ts` ‚Äî sign, verify, decode
- [ ] `entitlements.ts` ‚Äî hasEntitlement checks
- [ ] `promotions.ts` ‚Äî calculatePromoPrice
- [ ] `httpErrors.ts` ‚Äî error creation helpers

**Acceptance Criteria**:
```
‚úÖ Core utils –ø–æ–∫—Ä—ã—Ç—ã
```

**–ü—Ä–∏–º–µ—Ä–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å**: 5 —á–∞—Å–æ–≤

---

## TICKET-047: Utility Functions ‚Äî Async/Concurrency

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç**: `src/utils/semaphore.ts`, `retry.ts`, `circuitBreaker.ts`, `pgAdvisoryLock.ts`

**–û–ø–∏—Å–∞–Ω–∏–µ**:
–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ async/concurrency utilities.

**–§–∞–π–ª —Ç–µ—Å—Ç–∞**: `tests/utilsConcurrency.test.ts`

**–ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å**:
- [ ] Semaphore ‚Äî acquire, release, limit enforcement
- [ ] Retry ‚Äî exponential backoff, max attempts
- [ ] Circuit breaker ‚Äî open, half-open, closed states
- [ ] PG advisory lock ‚Äî acquire, release, timeout

**Acceptance Criteria**:
```
‚úÖ Concurrency utils –ø–æ–∫—Ä—ã—Ç—ã
```

**–ü—Ä–∏–º–µ—Ä–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å**: 4 —á–∞—Å–∞

---

## TICKET-048: Utility Functions ‚Äî Media

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç**: `src/utils/media/*`, `videoValidator.ts`

**–û–ø–∏—Å–∞–Ω–∏–µ**:
–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ media utilities.

**–§–∞–π–ª —Ç–µ—Å—Ç–∞**: `tests/utilsMedia.test.ts`

**–ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å**:
- [ ] `videoNormalization.ts` ‚Äî normalize (mock ffmpeg)
- [ ] `videoValidator.ts` ‚Äî validateDuration, validateSize
- [ ] `configureFfmpeg.ts` ‚Äî configuration

**–ú–æ–∫–∏—Ä–æ–≤–∞—Ç—å**:
- FFmpeg/FFprobe

**Acceptance Criteria**:
```
‚úÖ Media utils –ø–æ–∫—Ä—ã—Ç—ã
```

**–ü—Ä–∏–º–µ—Ä–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å**: 3 —á–∞—Å–∞

---

## TICKET-049: Utility Functions ‚Äî Caching

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç**: `src/utils/redisCache.ts`, `redisClient.ts`

**–û–ø–∏—Å–∞–Ω–∏–µ**:
–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ Redis caching utilities.

**–§–∞–π–ª —Ç–µ—Å—Ç–∞**: `tests/utilsCache.test.ts`

**–ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å**:
- [ ] get/set/delete
- [ ] TTL handling
- [ ] Cache miss behavior
- [ ] Connection handling

**–ú–æ–∫–∏—Ä–æ–≤–∞—Ç—å**:
- Redis client

**Acceptance Criteria**:
```
‚úÖ Cache utils –ø–æ–∫—Ä—ã—Ç—ã
```

**–ü—Ä–∏–º–µ—Ä–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å**: 2 —á–∞—Å–∞

---

## TICKET-050: External APIs ‚Äî Twitch

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç**: `src/utils/twitch/*`

**–û–ø–∏—Å–∞–Ω–∏–µ**:
–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ Twitch API utilities.

**–§–∞–π–ª —Ç–µ—Å—Ç–∞**: `tests/twitchApi.test.ts`

**–ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å**:
- [ ] `twitchApiRequest.ts` ‚Äî request with retry
- [ ] `twitchAppToken.ts` ‚Äî token management
- [ ] `twitchEventSub.ts` ‚Äî subscription CRUD
- [ ] `twitchRewards.ts` ‚Äî reward CRUD
- [ ] `twitchTokens.ts` ‚Äî refresh logic
- [ ] `twitchUsers.ts` ‚Äî user info fetch

**–ú–æ–∫–∏—Ä–æ–≤–∞—Ç—å**:
- Twitch API (–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `tests/mocks/twitchApi.mock.ts`)

**Acceptance Criteria**:
```
‚úÖ Twitch API –ø–æ–∫—Ä—ã—Ç
```

**–ü—Ä–∏–º–µ—Ä–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å**: 5 —á–∞—Å–æ–≤

---

## TICKET-051: External APIs ‚Äî YouTube

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç**: `src/utils/youtube/*`

**–û–ø–∏—Å–∞–Ω–∏–µ**:
–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ YouTube API utilities.

**–§–∞–π–ª —Ç–µ—Å—Ç–∞**: `tests/youtubeApi.test.ts`

**–ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å**:
- [ ] `youtubeChannels.ts` ‚Äî channel info
- [ ] `youtubeLive.ts` ‚Äî live stream detection
- [ ] `youtubeTokens.ts` ‚Äî refresh logic
- [ ] `youtubeHttp.ts` ‚Äî request handling

**–ú–æ–∫–∏—Ä–æ–≤–∞—Ç—å**:
- YouTube API (–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `tests/mocks/youtubeApi.mock.ts`)

**Acceptance Criteria**:
```
‚úÖ YouTube API –ø–æ–∫—Ä—ã—Ç
```

**–ü—Ä–∏–º–µ—Ä–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å**: 4 —á–∞—Å–∞

---

## TICKET-052: External APIs ‚Äî VKVideo

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç**: `src/utils/vkvideo/*`

**–û–ø–∏—Å–∞–Ω–∏–µ**:
–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ VKVideo API utilities.

**–§–∞–π–ª —Ç–µ—Å—Ç–∞**: `tests/vkvideoApi.test.ts`

**–ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å**:
- [ ] `vkvideoChannel.ts`
- [ ] `vkvideoChannelPoints.ts`
- [ ] `vkvideoCore.ts`
- [ ] `vkvideoTokens.ts`
- [ ] `vkvideoRoles.ts`

**Acceptance Criteria**:
```
‚úÖ VKVideo API –ø–æ–∫—Ä—ã—Ç
```

**–ü—Ä–∏–º–µ—Ä–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å**: 4 —á–∞—Å–∞

---

## TICKET-053: External APIs ‚Äî Other (Discord, Boosty, Kick, Trovo)

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç**: `src/utils/discordApi.ts`, `boostyApi.ts`, `kickApi.ts`, `trovoApi.ts`

**–û–ø–∏—Å–∞–Ω–∏–µ**:
–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Å—Ç–∞–ª—å–Ω—ã—Ö external APIs.

**–§–∞–π–ª —Ç–µ—Å—Ç–∞**: `tests/externalApis.test.ts`

**–ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å**:
- [ ] Discord API ‚Äî guild members, roles
- [ ] Boosty API ‚Äî tier info
- [ ] Kick API ‚Äî channel info
- [ ] Trovo API ‚Äî channel info

**Acceptance Criteria**:
```
‚úÖ –í—Å–µ external APIs –ø–æ–∫—Ä—ã—Ç—ã
```

**–ü—Ä–∏–º–µ—Ä–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å**: 4 —á–∞—Å–∞

---

## TICKET-054: Middleware ‚Äî Error Handler

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç**: `src/middleware/errorHandler.ts`, `errorResponseFormat.ts`

**–û–ø–∏—Å–∞–Ω–∏–µ**:
–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ error handling middleware.

**–§–∞–π–ª —Ç–µ—Å—Ç–∞**: `tests/middlewareErrorHandler.test.ts`

**–ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å**:
- [ ] –û–±—Ä–∞–±–æ—Ç–∫–∞ HttpError
- [ ] –û–±—Ä–∞–±–æ—Ç–∫–∞ unknown errors
- [ ] –§–æ—Ä–º–∞—Ç response
- [ ] Logging

**Acceptance Criteria**:
```
‚úÖ Error handling –ø–æ–∫—Ä—ã—Ç
```

**–ü—Ä–∏–º–µ—Ä–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å**: 2 —á–∞—Å–∞

---

## TICKET-055: Middleware ‚Äî Upload

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç**: `src/middleware/upload.ts`

**–û–ø–∏—Å–∞–Ω–∏–µ**:
–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ upload middleware.

**–§–∞–π–ª —Ç–µ—Å—Ç–∞**: `tests/middlewareUpload.test.ts`

**–ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å**:
- [ ] File size limits
- [ ] File type filtering
- [ ] Multer configuration
- [ ] Error handling

**Acceptance Criteria**:
```
‚úÖ Upload middleware –ø–æ–∫—Ä—ã—Ç
```

**–ü—Ä–∏–º–µ—Ä–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å**: 3 —á–∞—Å–∞

---

## TICKET-056: Middleware ‚Äî Idempotency

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç**: `src/middleware/idempotencyKey.ts`

**–û–ø–∏—Å–∞–Ω–∏–µ**:
–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ idempotency key middleware.

**–§–∞–π–ª —Ç–µ—Å—Ç–∞**: `tests/middlewareIdempotency.test.ts`

**–ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å**:
- [ ] Key extraction from header
- [ ] Duplicate request detection
- [ ] Response caching
- [ ] TTL expiration

**Acceptance Criteria**:
```
‚úÖ Idempotency –ø–æ–∫—Ä—ã—Ç
```

**–ü—Ä–∏–º–µ—Ä–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å**: 2 —á–∞—Å–∞

---

## TICKET-057: Middleware ‚Äî Moderator Check

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç**: `src/middleware/moderator.ts`

**–û–ø–∏—Å–∞–Ω–∏–µ**:
–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ moderator check middleware.

**–§–∞–π–ª —Ç–µ—Å—Ç–∞**: `tests/middlewareModerator.test.ts`

**–ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å**:
- [ ] Global moderator access
- [ ] Channel moderator access
- [ ] Non-moderator rejection

**Acceptance Criteria**:
```
‚úÖ Moderator check –ø–æ–∫—Ä—ã—Ç
```

**–ü—Ä–∏–º–µ—Ä–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å**: 2 —á–∞—Å–∞

---

## TICKET-058: Middleware ‚Äî Require Channel

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç**: `src/middleware/requireChannel.ts`

**–û–ø–∏—Å–∞–Ω–∏–µ**:
–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ require channel middleware.

**–§–∞–π–ª —Ç–µ—Å—Ç–∞**: `tests/middlewareRequireChannel.test.ts`

**–ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å**:
- [ ] User with channel ‚Äî pass
- [ ] User without channel ‚Äî reject

**Acceptance Criteria**:
```
‚úÖ Require channel –ø–æ–∫—Ä—ã—Ç
```

**–ü—Ä–∏–º–µ—Ä–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å**: 1 —á–∞—Å

---

# –§–ê–ó–ê 4: Edge cases –∏ resilience

> **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üü¢ –ù–ò–ó–ö–ò–ô
>
> **–¶–µ–ª—å —Ñ–∞–∑—ã**: –ø–æ–∫—Ä—ã—Ç–∏–µ 80%+

---

## TICKET-059: Services ‚Äî Bot Service

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç**: `src/services/BotService.ts`, `src/services/bot/*`

**–û–ø–∏—Å–∞–Ω–∏–µ**:
–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ BotService.

**–§–∞–π–ª —Ç–µ—Å—Ç–∞**: `tests/botServiceFull.test.ts`

**–ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å**:
- [ ] Bot commands processing
- [ ] Follow greetings
- [ ] Outbox management
- [ ] Subscription handling
- [ ] Stream duration tracking

**Acceptance Criteria**:
```
‚úÖ BotService –ø–æ–∫—Ä—ã—Ç
```

**–ü—Ä–∏–º–µ—Ä–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å**: 5 —á–∞—Å–æ–≤

---

## TICKET-060: Services ‚Äî AI Moderation Service

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç**: `src/services/AiModerationService.ts`, `src/services/aiModeration/*`

**–û–ø–∏—Å–∞–Ω–∏–µ**:
–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ AI moderation pipeline.

**–§–∞–π–ª —Ç–µ—Å—Ç–∞**: `tests/aiModerationServiceFull.test.ts`

**–ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å**:
- [ ] Full pipeline (audio extraction ‚Üí transcription ‚Üí analysis)
- [ ] Auto-approve logic
- [ ] Reuse existing MemeAsset AI data
- [ ] Error recovery
- [ ] Rate limiting / concurrency

**–ú–æ–∫–∏—Ä–æ–≤–∞—Ç—å**:
- OpenAI API (–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `tests/mocks/openaiApi.mock.ts`)
- FFmpeg

**Acceptance Criteria**:
```
‚úÖ AI moderation pipeline –ø–æ–∫—Ä—ã—Ç
```

**–ü—Ä–∏–º–µ—Ä–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å**: 6 —á–∞—Å–æ–≤

---

## TICKET-061: Jobs & Workers

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç**: `src/jobs/*`, `src/workers/*`

**–û–ø–∏—Å–∞–Ω–∏–µ**:
–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ background jobs.

**–§–∞–π–ª —Ç–µ—Å—Ç–∞**: `tests/jobs.test.ts`

**–ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å**:
- [ ] AI analysis job
- [ ] AI watchdog job
- [ ] Monitoring job
- [ ] Worker lifecycle

**Acceptance Criteria**:
```
‚úÖ Jobs –ø–æ–∫—Ä—ã—Ç—ã
```

**–ü—Ä–∏–º–µ—Ä–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å**: 4 —á–∞—Å–∞

---

## TICKET-062: Queues

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç**: `src/queues/*`

**–û–ø–∏—Å–∞–Ω–∏–µ**:
–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ BullMQ queues.

**–§–∞–π–ª —Ç–µ—Å—Ç–∞**: `tests/queues.test.ts`

**–ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å**:
- [ ] AI queue operations
- [ ] Chat outbox queue
- [ ] Job retry logic
- [ ] Dead letter queue

**Acceptance Criteria**:
```
‚úÖ Queues –ø–æ–∫—Ä—ã—Ç—ã
```

**–ü—Ä–∏–º–µ—Ä–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å**: 3 —á–∞—Å–∞

---

## TICKET-063: Storage Providers

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç**: `src/storage/*`

**–û–ø–∏—Å–∞–Ω–∏–µ**:
–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ storage providers.

**–§–∞–π–ª —Ç–µ—Å—Ç–∞**: `tests/storage.test.ts`

**–ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å**:
- [ ] Local storage ‚Äî save, get, delete
- [ ] S3 storage ‚Äî save, get, delete
- [ ] Storage factory

**–ú–æ–∫–∏—Ä–æ–≤–∞—Ç—å**:
- S3 client

**Acceptance Criteria**:
```
‚úÖ Storage –ø–æ–∫—Ä—ã—Ç
```

**–ü—Ä–∏–º–µ—Ä–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å**: 3 —á–∞—Å–∞

---

## TICKET-064: Socket Redis Adapter

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç**: `src/socket/redisAdapter.ts`

**–û–ø–∏—Å–∞–Ω–∏–µ**:
–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ Redis adapter –¥–ª—è Socket.IO.

**–§–∞–π–ª —Ç–µ—Å—Ç–∞**: `tests/socketRedisAdapter.test.ts`

**–ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å**:
- [ ] Multi-instance pub/sub
- [ ] Room synchronization
- [ ] Connection handling

**Acceptance Criteria**:
```
‚úÖ Redis adapter –ø–æ–∫—Ä—ã—Ç
```

**–ü—Ä–∏–º–µ—Ä–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å**: 3 —á–∞—Å–∞

---

## TICKET-065: Utility ‚Äî Service Heartbeat

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç**: `src/utils/serviceHeartbeat.ts`

**–û–ø–∏—Å–∞–Ω–∏–µ**:
–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ service heartbeat.

**–§–∞–π–ª —Ç–µ—Å—Ç–∞**: `tests/utilsServiceHeartbeat.test.ts`

**–ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å**:
- [ ] Heartbeat recording
- [ ] Stale detection
- [ ] Cleanup

**Acceptance Criteria**:
```
‚úÖ Heartbeat –ø–æ–∫—Ä—ã—Ç
```

**–ü—Ä–∏–º–µ—Ä–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å**: 2 —á–∞—Å–∞

---

## TICKET-066: Utility ‚Äî Audit Logger

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç**: `src/utils/auditLogger.ts`

**–û–ø–∏—Å–∞–Ω–∏–µ**:
–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ audit logging.

**–§–∞–π–ª —Ç–µ—Å—Ç–∞**: `tests/utilsAuditLogger.test.ts`

**–ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å**:
- [ ] Log creation
- [ ] Log format
- [ ] Context inclusion

**Acceptance Criteria**:
```
‚úÖ Audit logger –ø–æ–∫—Ä—ã—Ç
```

**–ü—Ä–∏–º–µ—Ä–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å**: 1 —á–∞—Å

---

## TICKET-067: Utility ‚Äî Metrics

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç**: `src/utils/metrics.ts`

**–û–ø–∏—Å–∞–Ω–∏–µ**:
–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ metrics recording.

**–§–∞–π–ª —Ç–µ—Å—Ç–∞**: `tests/utilsMetrics.test.ts`

**–ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å**:
- [ ] Counter increment
- [ ] Histogram observation
- [ ] Gauge set

**Acceptance Criteria**:
```
‚úÖ Metrics –ø–æ–∫—Ä—ã—Ç
```

**–ü—Ä–∏–º–µ—Ä–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å**: 2 —á–∞—Å–∞

---

## TICKET-068: Integration Tests ‚Äî Full User Journey

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç**: Full stack

**–û–ø–∏—Å–∞–Ω–∏–µ**:
End-to-end integration tests –¥–ª—è –ø–æ–ª–Ω—ã—Ö user journeys.

**–§–∞–π–ª —Ç–µ—Å—Ç–∞**: `tests/integration/userJourneys.test.ts`

**–ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å**:
- [ ] Viewer: login ‚Üí browse ‚Üí activate meme
- [ ] Streamer: login ‚Üí upload meme ‚Üí configure channel
- [ ] Submission: viewer submit ‚Üí streamer approve ‚Üí meme appears

**Acceptance Criteria**:
```
‚úÖ Key user journeys –ø–æ–∫—Ä—ã—Ç—ã
```

**–ü—Ä–∏–º–µ—Ä–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å**: 8 —á–∞—Å–æ–≤

---

## TICKET-069: Stress Tests ‚Äî Concurrent Operations

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç**: Critical paths

**–û–ø–∏—Å–∞–Ω–∏–µ**:
–¢–µ—Å—Ç—ã –Ω–∞ concurrent operations.

**–§–∞–π–ª —Ç–µ—Å—Ç–∞**: `tests/stress/concurrent.test.ts`

**–ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å**:
- [ ] Multiple activations same meme
- [ ] Multiple submissions same user
- [ ] Wallet operations under load
- [ ] Socket.IO message flood

**Acceptance Criteria**:
```
‚úÖ No race conditions
‚úÖ No data corruption
```

**–ü—Ä–∏–º–µ—Ä–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å**: 6 —á–∞—Å–æ–≤

---

## TICKET-070: Error Scenarios

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç**: All components

**–û–ø–∏—Å–∞–Ω–∏–µ**:
–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ error scenarios –∏ recovery.

**–§–∞–π–ª —Ç–µ—Å—Ç–∞**: `tests/errorScenarios.test.ts`

**–ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å**:
- [ ] Database connection failure
- [ ] Redis connection failure
- [ ] External API timeout
- [ ] Invalid input handling
- [ ] Graceful shutdown

**Acceptance Criteria**:
```
‚úÖ System handles failures gracefully
```

**–ü—Ä–∏–º–µ—Ä–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å**: 5 —á–∞—Å–æ–≤

---

# üìä –°–≤–æ–¥–∫–∞

| –§–∞–∑–∞ | –¢–∏–∫–µ—Ç–æ–≤ | –ü—Ä–∏–º–µ—Ä–Ω–æ–µ –≤—Ä–µ–º—è |
|------|---------|-----------------|
| –§–∞–∑–∞ 1 | 13 | ~50-60 —á–∞—Å–æ–≤ |
| –§–∞–∑–∞ 2 | 24 | ~70-80 —á–∞—Å–æ–≤ |
| –§–∞–∑–∞ 3 | 21 | ~55-65 —á–∞—Å–æ–≤ |
| –§–∞–∑–∞ 4 | 12 | ~45-50 —á–∞—Å–æ–≤ |
| **–ò–¢–û–ì–û** | **70** | **~220-255 —á–∞—Å–æ–≤** |

---

# ‚úÖ Definition of Done

–ö–∞–∂–¥—ã–π —Ç–∏–∫–µ—Ç —Å—á–∏—Ç–∞–µ—Ç—Å—è –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–º –∫–æ–≥–¥–∞:

1. [ ] –í—Å–µ –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–Ω—ã–µ test cases –Ω–∞–ø–∏—Å–∞–Ω—ã
2. [ ] –¢–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç –ª–æ–∫–∞–ª—å–Ω–æ (`pnpm test`)
3. [ ] –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ñ–∞–±—Ä–∏–∫–∏ –∏–∑ `tests/factories/`
4. [ ] –í–Ω–µ—à–Ω–∏–µ —Å–µ—Ä–≤–∏—Å—ã –∑–∞–º–æ–∫–∏—Ä–æ–≤–∞–Ω—ã
5. [ ] –ù–µ—Ç flaky tests (—Ç–µ—Å—Ç —Å—Ç–∞–±–∏–ª–µ–Ω –ø—Ä–∏ –º–Ω–æ–≥–æ–∫—Ä–∞—Ç–Ω–æ–º –∑–∞–ø—É—Å–∫–µ)
6. [ ] Code review –ø—Ä–æ–π–¥–µ–Ω
7. [ ] CI –ø—Ä–æ—Ö–æ–¥–∏—Ç —É—Å–ø–µ—à–Ω–æ

---

# üìö –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- [Testing Guide](./TESTING.md)
- [API Cheatsheet](./FRONTEND_API_CHEATSHEET.md)
- [Architecture](../ARCHITECTURE.md)
- [Factories](../tests/factories/)
- [Mocks](../tests/mocks/)
